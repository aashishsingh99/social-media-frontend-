[{"/home/aashish/Desktop/hv/soc-med/soc-med/src/index.js":"1","/home/aashish/Desktop/hv/soc-med/soc-med/src/App.js":"2","/home/aashish/Desktop/hv/soc-med/soc-med/src/reportWebVitals.js":"3","/home/aashish/Desktop/hv/soc-med/soc-med/src/Header.js":"4","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Home.js":"5","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Signup.js":"6","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Login.js":"7","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Navbar.js":"8","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Profile.js":"9","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Createpost.js":"10","/home/aashish/Desktop/hv/soc-med/soc-med/src/Reducers/userReducer.js":"11","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/UserProfile.js":"12","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/MyFollowings.js":"13"},{"size":500,"mtime":1610350638142,"results":"14","hashOfConfig":"15"},{"size":1690,"mtime":1610964154229,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1610085734337,"results":"17","hashOfConfig":"15"},{"size":421,"mtime":1610093156122,"results":"18","hashOfConfig":"15"},{"size":4515,"mtime":1610991310568,"results":"19","hashOfConfig":"15"},{"size":2074,"mtime":1610797539765,"results":"20","hashOfConfig":"15"},{"size":2070,"mtime":1610965765013,"results":"21","hashOfConfig":"15"},{"size":2030,"mtime":1610965941631,"results":"22","hashOfConfig":"15"},{"size":2525,"mtime":1610968612018,"results":"23","hashOfConfig":"15"},{"size":1231,"mtime":1610877809529,"results":"24","hashOfConfig":"15"},{"size":343,"mtime":1610957417471,"results":"25","hashOfConfig":"15"},{"size":4344,"mtime":1610967922643,"results":"26","hashOfConfig":"15"},{"size":3804,"mtime":1610974083855,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"14csdth",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"30"},"/home/aashish/Desktop/hv/soc-med/soc-med/src/index.js",[],["61","62"],"/home/aashish/Desktop/hv/soc-med/soc-med/src/App.js",["63","64"],"import React,{useEffect,createContext,useReducer,useContext} from 'react';\nimport '../src/App.css';\nimport {BrowserRouter as Router,Route,Switch,useHistory} from \"react-router-dom\";\nimport Home from '../src/components/Home';\nimport Signup from '../src/components/Signup';\nimport Login from '../src/components/Login';\nimport Navbar from '../src/components/Navbar';\nimport Profile from '../src/components/Profile';\nimport Createpost from '../src/components/Createpost';\nimport UserProfile from '../src/components/UserProfile';\nimport {initialState,reducer} from '../src/Reducers/userReducer';\nimport MyFollowings from '../src/components/MyFollowings';\nexport const UserContext=createContext();\nconst Routing=()=>{\n  const history=useHistory();\n  const {state,dispatch}=useContext(UserContext);\n  useEffect(()=>{\n    const user=JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n      \n    }\n    else{\n      history.push(\"/signup\")\n    }\n  },[])\n  \n  return(\n  <Switch>\n    \n  <Route path=\"/signup\" component={Signup} />\n  <Route path=\"/login\" component={Login} />\n    \n  <Route path=\"/profile/:userid\" component={UserProfile}/>\n  <Route exact path=\"/profile\" component={Profile}/>\n  <Route path=\"/createPost\" component={Createpost}/>\n  <Route path=\"/myfollowings\" component={MyFollowings}/>\n  <Route path=\"/\" component={Home} />\n  \n  </Switch>\n  );\n}\nfunction App() {\n  const [state,dispatch]=useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n      <Router>\n        \n        \n        <Navbar/>\n        <Routing/>\n        \n      </Router>\n    </UserContext.Provider>\n    \n  );\n}\n\nexport default App;\n","/home/aashish/Desktop/hv/soc-med/soc-med/src/reportWebVitals.js",[],"/home/aashish/Desktop/hv/soc-med/soc-med/src/Header.js",[],"/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Home.js",["65","66","67"],"/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Signup.js",[],"/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Login.js",["68"],"import React,{useState,useContext} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {UserContext} from '../App';\nimport {useHistory} from 'react-router-dom';\nconst Login=()=> {\n    const {state,dispatch}=useContext(UserContext);\n    const [email,setEmail]=useState(\"\");\n    const [password,setPassword]=useState(\"\");\n    const history=useHistory();\n    const postData=(e)=>{\n        e.preventDefault();\n        fetch('http://localhost:5000/users/login',{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \n            },\n            body:JSON.stringify({\n                \n                email,\n                password\n\n            })\n        })\n        .then(res=>res.json())\n        .then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                localStorage.setItem(\"jwt\",data.token)\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\n                dispatch({type:\"USER\",payload:data.user})\n                history.push('/');\n            }\n        })\n        .catch(err=>console.log(err));\n    }\n    return (\n        <div className=\"container\">\n        <h2 className=\"mt-5 mb-5\">Login</h2>\n        <form onSubmit={postData}>\n            \n            <div className=\"form-group\">\n                <label>Email</label>\n                <input \n                type=\"email\" \n                className=\"form-control\"\n                value={email}\n                onChange={e=>setEmail(e.target.value)}/>\n            </div>\n            <div className=\"form-group\">\n                <label>Password</label>\n                <input \n                type=\"password\" \n                className=\"form-control\"\n                password={password}\n                onChange={e=>setPassword(e.target.value)}/>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary dark\">\n                Login\n            </button>\n        </form>  \n        </div>\n    );\n}\n\nexport default Login;\n\n\n\n","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Navbar.js",["69"],"\nimport React,{Component, useContext} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {UserContext} from '../App';\nfunction Navbar(){\n        const {state,dispatch}=useContext(UserContext)\n        if(!state){\n            return(\n            <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\n            \n            <Link to=\"/\" className=\"navbar-brand\">Social</Link>\n            <div className=\"collpase navbar-collapse\">\n            <ul className=\"navbar-nav mr-auto\"></ul>\n            <li className=\"navbar-item\">\n            <Link to=\"/login\" className=\"nav-link\" style={{color:\"white\"}}>Login</Link>\n            </li>\n            <li className=\"navbar-item\">\n            <Link to=\"/signup\" className=\"nav-link\" style={{color:\"white\"}}>Signup</Link>\n            </li>\n            </div>\n            </nav> \n            )  \n        }\n        \n\n        \n        return(\n            \n            <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\n            \n            <Link to=\"/\" className=\"navbar-brand\">Social</Link>\n            <div className=\"collpase navbar-collapse\">\n            <ul className=\"navbar-nav mr-auto\">\n            <li className=\"navbar-item\">\n            <Link to=\"/\" className=\"nav-link\">Home</Link>\n            </li>\n            \n            \n            <li className=\"navbar-item\">\n            <Link to=\"/createPost\" className=\"nav-link\">Create Post</Link>\n            </li>\n            <li className=\"navbar-item\">\n            <Link to=\"/profile\" className=\"nav-link\">Profile</Link>\n            </li>\n            <li className=\"navbar-item\">\n            <Link to=\"/myfollowings\" className=\"nav-link\">My Friends</Link>\n            </li>\n            <li className=\"navbar-item\">\n            <Link to=\"/login\" className=\"nav-link\" onClick={()=>{\n                localStorage.clear()\n                dispatch({type:\"CLEAR\"})\n            }}>Logout</Link>\n            </li>\n            </ul>\n            </div>\n            </nav>\n        );\n    }\nexport default Navbar;\n","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Profile.js",["70"],"import React,{useState,useEffect,useContext} from 'react';\nimport {UserContext} from '../App';\nimport '../components/Profile.css';\nfunction Profile() {\n    const {state,dispatch} = useContext(UserContext)\n    const [data,setData]=useState([])\n    \n    useEffect(()=>{\n        fetch('http://localhost:5000/posts/mypost',{\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            setData(result.mypost)})\n    },[])\n    return (\n        <div className='outer'>\n            <div className=\"profile\">\n                <div className=\"pic\">\n                    <img src='https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg'\n                    alt=''/>\n                </div>\n                <div className=\"info\">\n                    <h4 style={{fontWeight:\"bold\",margin:\"10px\"}}>{state?state.name:\"loading\"}</h4>\n                    <h4 style={{fontWeight:\"bold\"}}>{state?state.email:\"loading\"}</h4>\n                    <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\n                    <h6>{data.length} posts</h6>\n                    <h6>{state?state.friends.length:\"loading\"} friends</h6>\n                       \n                   </div>\n                    \n                </div>\n                \n            </div>\n            {\n                data.map(item=>{\n                    return(\n                    <div className='card home-card'>\n                        <h3>{item.postedBy.name}</h3>\n                        \n                        <div className=\"card_content\">\n                            <h5>{item.post}</h5>\n                            <i class=\"material-icons\">thumb_up</i>\n                            <p>{item.likes.length} likes</p>\n                            {\n                            item.comments.map(record=>{\n                                return(\n                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                )\n                            })\n                        }   \n                            <br></br>\n                            \n                        </div>\n                    </div>\n                )})\n            }\n            \n            \n        </div>\n        \n\n\n    )\n}\n\nexport default Profile;\n","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/Createpost.js",[],"/home/aashish/Desktop/hv/soc-med/soc-med/src/Reducers/userReducer.js",[],"/home/aashish/Desktop/hv/soc-med/soc-med/src/components/UserProfile.js",["71","72"],"import React,{useState,useEffect,useContext} from 'react';\nimport {UserContext} from '../App';\n\nimport {useParams} from 'react-router-dom';\nimport '../components/Profile.css';\nconst UserProfile=()=> {\n    \n    const [data,setData]=useState(null)\n    \n    const {state,dispatch}=useContext(UserContext)\n    const {userid}=useParams()\n    const [showFollow,setshowFollow]=useState(state?!state.friends.includes(userid):true)\n    \n    useEffect(()=>{\n        \n        fetch(`http://localhost:5000/users/user/${userid}`,{\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            setData(result)\n        }).catch(err=>{console.log(err)})\n        \n    },[])\n    const followUser=()=>{\n        fetch('http://localhost:5000/users/follow',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n\n            },\n            body:JSON.stringify({\n                followId:userid\n            })\n        }).then(res=>res.json())\n        .then(result=>{console.log(result)\n        dispatch({type:\"UPDATE\",payload:{friends:result.friends}})\n        localStorage.setItem(\"user\",JSON.stringify(result))\n        setData((prevState)=>{\n            return {\n                ...prevState,\n                user:{\n                    ...prevState.user,\n                    friends:[...prevState.user.friends,result._id]\n                   }\n            }\n        })\n        setshowFollow(false)\n        })\n\n    }\n    const unfollowUser=()=>{\n        fetch('http://localhost:5000/users/unfollow',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n\n            },\n            body:JSON.stringify({\n                unfollowId:userid\n            })\n        }).then(res=>res.json())\n        .then(result=>{console.log(result)\n        dispatch({type:\"UPDATE\",payload:{friends:result.friends}})\n        localStorage.setItem(\"user\",JSON.stringify(result))\n        setData((prevState)=>{\n            const newFollower = prevState.user.friends.filter(item=>item != result._id )\n            return {\n                ...prevState,\n                user:{\n                    ...prevState.user,\n                    friends:newFollower\n                   }\n            }\n        })\n        setshowFollow(true)\n        })\n\n    }\n    return (\n        <>\n        {data?\n        <div className='outer'>\n        <div className=\"profile\">\n            <div className=\"pic\">\n                <img src='https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg'\n                alt=''/>\n            </div>\n            <div className=\"info\">\n                <h4 style={{fontWeight:\"bold\"}}>{data.user.name}</h4>\n                <h4 style={{fontWeight:\"bold\"}}>{data.user.email}</h4>\n                <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\n                       <h6>{data.posts.length} posts</h6>\n                       <h6>{data.user.friends.length} friends</h6>\n                       \n                   </div>\n                {showFollow?<button className=\"btn btn-primary\" onClick={()=>followUser()}>Add as Friend</button>:<button className=\"btn btn-primary\" onClick={()=>unfollowUser()}>Unfriend</button>}\n                \n                \n            </div>\n            \n        </div>\n        {\n            data.posts.map(item=>{\n                return(\n                <div className='card home-card'>\n                    <h3 style={{margin:'10px',fontWeight:'bold'}}>{item.postedBy.name}</h3>\n                    \n                    \n                    \n                    <div className=\"card_content\">\n                        <h5>{item.post}</h5>\n                        <i class=\"material-icons\">thumb_up</i>\n                        <br></br>\n                        \n                    </div>\n                </div>\n            )})\n        }\n        \n        \n    </div>\n        \n        :<h2>Loading...</h2>}\n        \n        </>\n\n\n    )\n}\n\nexport default UserProfile;\n\n\n\n","/home/aashish/Desktop/hv/soc-med/soc-med/src/components/MyFollowings.js",["73","74"],"import React,{useState,useEffect,useContext} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../components/Home.css';\n\nimport {UserContext} from '../App';\nfunction MyFollowings() {\n    const [data,setData]=useState([])\n    const {state,dispatch}=useContext(UserContext);\n    useEffect(()=>{\n        fetch('http://localhost:5000/posts/followingposts',{\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            setData(result.posts)})\n    },[])\n    const likePost=(id)=>{\n        fetch('http://localhost:5000/posts/like',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n\n        .then(result=>{\n            const newData=data.map(item=>{\n                if(item._id===result._id){\n                    return result\n                }\n                else{\n                    return item\n                }\n            })\n            setData(newData)\n        })\n    }\n    const makeComment=(text,postId)=>{\n        fetch('http://localhost:5000/posts/comment',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:postId,\n                text:text\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData=data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }\n                else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{console.log(err)})\n    }\n    return (\n\n        <div className=\"home\">\n            {\n                data.map(item=>{\n                    return(\n                        <div className='card home-card' key={item._id}>\n                        <h3 style={{margin:'10px',fontWeight:'bold'}}>{item.postedBy.name}</h3>\n                        \n                        <div className=\"card_content\">\n                            <h5>{item.post}</h5>\n                            <br></br>\n                        {\n                            item.comments.map(record=>{\n                                return(\n                                    <h6 key={record._id}><span style={{fontWeight:\"bold\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                )\n                            })\n                        }    \n                        {!item.likes.includes(state._id)\n                            && <i className=\"material-icons\"\n                            onClick={()=>{likePost(item._id)}}>thumb_up</i>\n                        }\n                            \n                            <p>{item.likes.length} likes</p>\n                            <br></br>\n                            <form onSubmit={(e=>{\n                                e.preventDefault()\n                                makeComment(e.target[0].value,item._id)\n                                console.log(e.target[0].value)\n                            })}>\n                            <input style={{margin:'20px'}} type=\"text\" placeholder=\"add a comment\" />\n                            </form>\n                        </div>\n                        </div>\n                    )\n                })\n            }\n            \n\n        </div>\n    )\n}\n\nexport default MyFollowings;\n",{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":16,"column":10,"nodeType":"81","messageId":"82","endLine":16,"endColumn":15},{"ruleId":"83","severity":1,"message":"84","line":26,"column":5,"nodeType":"85","endLine":26,"endColumn":7,"suggestions":"86"},{"ruleId":"79","severity":1,"message":"87","line":4,"column":9,"nodeType":"81","messageId":"82","endLine":4,"endColumn":13},{"ruleId":"79","severity":1,"message":"88","line":8,"column":18,"nodeType":"81","messageId":"82","endLine":8,"endColumn":26},{"ruleId":"89","severity":1,"message":"90","line":75,"column":28,"nodeType":"91","messageId":"92","endLine":75,"endColumn":30},{"ruleId":"79","severity":1,"message":"80","line":6,"column":12,"nodeType":"81","messageId":"82","endLine":6,"endColumn":17},{"ruleId":"79","severity":1,"message":"93","line":2,"column":15,"nodeType":"81","messageId":"82","endLine":2,"endColumn":24},{"ruleId":"79","severity":1,"message":"88","line":5,"column":18,"nodeType":"81","messageId":"82","endLine":5,"endColumn":26},{"ruleId":"83","severity":1,"message":"94","line":26,"column":7,"nodeType":"85","endLine":26,"endColumn":9,"suggestions":"95"},{"ruleId":"89","severity":1,"message":"96","line":71,"column":74,"nodeType":"91","messageId":"92","endLine":71,"endColumn":76},{"ruleId":"79","severity":1,"message":"88","line":8,"column":18,"nodeType":"81","messageId":"82","endLine":8,"endColumn":26},{"ruleId":"89","severity":1,"message":"90","line":58,"column":28,"nodeType":"91","messageId":"92","endLine":58,"endColumn":30},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["99"],"'Link' is defined but never used.","'dispatch' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Component' is defined but never used.","React Hook useEffect has a missing dependency: 'userid'. Either include it or remove the dependency array.",["100"],"Expected '!==' and instead saw '!='.","no-global-assign","no-unsafe-negation",{"desc":"101","fix":"102"},{"desc":"103","fix":"104"},"Update the dependencies array to be: [dispatch, history]",{"range":"105","text":"106"},"Update the dependencies array to be: [userid]",{"range":"107","text":"108"},[986,988],"[dispatch, history]",[798,800],"[userid]"]